% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotActivityTimeline.R
\name{plotActivityTimeline}
\alias{plotActivityTimeline}
\title{Edge/Vertex Activity Timelines (Gantt-style) for multilayer networks:}
\usage{
plotActivityTimeline(
  net,
  type = c("edge", "vertex"),
  layer_order = NULL,
  slice.par = list(start = 0, interval = 1, aggregate.dur = 1),
  top_n = NULL,
  min_duration = 1,
  edge.col = "#2c7fb8",
  vertex.col = "#d95f02",
  width = 12,
  height = 8,
  dpi = 300,
  format = c("png", "pdf"),
  results_dir = getOption("mlnet.results_dir", "omicsDNA_results"),
  file = NULL,
  show_in_rstudio = TRUE,
  save_plot = TRUE,
  seed = NULL,
  verbose = TRUE
)
}
\arguments{
\item{net}{A multilayer network compatible with \code{multinet::edges_ml()} and
\code{multinet::layers_ml()}.}

\item{type}{\code{"edge"} (default) or \code{"vertex"}. What to plot as timeline rows.}

\item{layer_order}{Optional character vector to fix the chronological order
of layers (e.g., \code{c("E1","E2","M1",...)}). Default: all layers in their
natural order from \code{layers_ml(net)}.}

\item{slice.par}{List controlling the layer→time mapping:
\code{list(start=0, interval=1, aggregate.dur=1)}. Each layer \emph{i} occupies
\verb{[start + (i-1)*interval, start + (i-1)*interval + aggregate.dur)}.}

\item{top_n}{Optional integer; plot only the \code{top_n} longest‑duration edges
(for \code{type="edge"}) or vertices (\code{type="vertex"}). Default \code{NULL} = all.}

\item{min_duration}{Minimum total duration (in time units) to keep an item.
Default \code{1} (keeps elements present in at least one layer).}

\item{edge.col}{Colour for edge bars (e.g., \code{"#2c7fb8"}). Used when
\code{type="edge"}.}

\item{vertex.col}{Colour for vertex bars (e.g., \code{"#d95f02"}). Used when
\code{type="vertex"}.}

\item{width, height, dpi}{Figure size if saving to PNG (inches; DPI). For PDF,
\code{dpi} is ignored.}

\item{format}{\code{"png"} or \code{"pdf"} for saving. Default \code{"png"}.}

\item{results_dir}{Output directory (default:
\code{getOption("mlnet.results_dir","omicsDNA_results")}).}

\item{file}{Optional output filename. If \code{NULL}, an informative name is made.
If relative, it is written under \code{results_dir}.}

\item{show_in_rstudio}{Draw to the current device (RStudio Plots pane).
Default \code{TRUE}.}

\item{save_plot}{Also save to file. Default \code{TRUE}.}

\item{seed}{Optional integer seed used only for reproducible ordering ties.}

\item{verbose}{Print progress messages. Default \code{TRUE}.}
}
\value{
Invisibly returns a list:
\itemize{
\item \code{nd}: the \code{networkDynamic} object (with activated spells),
\item \code{file}: absolute path to the saved plot (if written),
\item \code{layers}: layer order used,
\item \code{spells}: a data.frame of computed spells (element, onset, terminus).
}
}
\description{
Build a temporal network from a multilayer \pkg{multinet} object and plot
activity “spells” as a timeline using \pkg{ndtv}. Each horizontal bar
represents either a single \strong{edge} (co-expression relationship) or a single
\strong{vertex} (gene), with bar length covering the age-group layers in which the
element is present. Contiguous presence across adjacent layers is merged into
a single spell so that “stable” elements appear as long bars.
}
\details{
The function:
\enumerate{
\item Reads all intra-layer edges from \code{net} and normalizes to a single \code{layer}.
\item Maps layers to discrete time points (t = 0,1,2,...) using \code{slice.par}.
\item Computes \strong{contiguous spells} of presence for either:
\itemize{
\item \code{type = "edge"}: undirected pairs (u,v) present in one or more layers.
\item \code{type = "vertex"}: genes that appear in at least one edge in a layer.
}
\item Constructs a base \code{network} with the full vertex set, wraps it as a
\code{networkDynamic}, and \strong{activates} the relevant edges/vertices over
the computed time spells.
\item Calls \code{ndtv::timeline()} to draw a Gantt‑style plot.
}

\strong{Biological interpretation}
\itemize{
\item \strong{Stable edges} (long bars) can suggest core, age‑independent regulatory
relationships.
\item \strong{Transient edges} (short bars) may reflect age‑specific responses.
\item \strong{Late‑appearing vertices/edges} indicate genes/relationships activated
only at older age groups.
}
}
\examples{
\dontrun{
# Edges timeline (default)
plotActivityTimeline(net, type="edge", top_n=300)

# Vertex timeline, only longest 100 genes
plotActivityTimeline(net, type="vertex", top_n=100, vertex.col="tomato")
}
}
