% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_multinet_from_graphs.R
\name{build_multinet_from_graphs}
\alias{build_multinet_from_graphs}
\title{Build a multilayer network from per‑layer \strong{igraph} graphs}
\usage{
build_multinet_from_graphs(
  graphsPerLayer,
  layerOrder = NULL,
  nodesMetadata = NULL,
  featureID_col = "feature_id",
  nodeAttrCols = NULL,
  attr_conflict = c("overwrite_with_meta", "keep_graph", "coalesce"),
  actor_normalize = NULL,
  simplify = FALSE,
  simplify_weight = c("sum", "mean", "median", "min", "max", "first", "last"),
  results_dir = getOption("mlnet.results_dir", "omicsDNA_results"),
  save_to_rds = TRUE,
  rds_file = NULL,
  save_layers_graphml = FALSE,
  graphml_prefix = "layer",
  verbose = TRUE
)
}
\arguments{
\item{graphsPerLayer}{Named list of \code{igraph} objects (one per layer).}

\item{layerOrder}{Optional character vector specifying which layers to keep
and in what order. If \code{NULL}, layers are \strong{alphabetically} ordered.}

\item{nodesMetadata}{Optional data frame of node (actor) attributes.}

\item{featureID_col}{Column in \code{nodesMetadata} holding actor IDs to match
against vertex \code{name}. Default \code{"feature_id"}.}

\item{nodeAttrCols}{Character vector of columns from \code{nodesMetadata} to attach
as vertex attributes. Default \code{NULL} = attach all except \code{featureID_col}.}

\item{attr_conflict}{Conflict policy when a vertex attribute exists both in a
graph and in \code{nodesMetadata}. One of \code{"overwrite_with_meta"} (default),
\code{"keep_graph"}, or \code{"coalesce"} (fill graph NAs with metadata).}

\item{actor_normalize}{Optional character vector of normalization steps
applied to vertex names within each graph. Any subset of
\code{c("strip_version","trim","tolower")}. Default \code{NULL} = disabled (matches
\code{build_multiNet()} behavior).}

\item{simplify}{Logical; if \code{TRUE}, call \code{igraph::simplify()} per layer to
merge parallel edges and drop loops. Default \code{FALSE}.}

\item{simplify_weight}{How to combine the \code{weight} attribute when simplifying.
One of \code{"sum"}, \code{"mean"}, \code{"median"}, \code{"min"}, \code{"max"}, \code{"first"}, \code{"last"}.
Default \code{"sum"}.}

\item{results_dir}{Directory for outputs. Default
\code{getOption("mlnet.results_dir","omicsDNA_results")}.}

\item{save_to_rds}{Logical; save the \code{ml.network} object to RDS. Default \code{TRUE}.}

\item{rds_file}{Optional filename for the RDS; if relative, placed under
\code{results_dir}. When \code{NULL}, a timestamped name is generated.}

\item{save_layers_graphml}{Logical; also export each layer as GraphML. Default \code{FALSE}.}

\item{graphml_prefix}{Basename prefix for GraphML files (layer name and a
timestamp are appended). Default \code{"layer"}.}

\item{verbose}{Logical; print per‑layer summaries and file paths. Default \code{TRUE}.}
}
\value{
A \code{multinet::ml.network} object with one layer per input graph.
}
\description{
Construct a multilayer network—\strong{one layer per graph}—from a named list of
\code{igraph} objects and return a \code{multinet::ml.network}. This sibling of
\code{build_multiNet()} is tuned so that, given equivalent inputs, the resulting
multilayer object is the \strong{same} as what \code{build_multiNet()} would produce.

\strong{Alignment with \code{build_multiNet()}}
\itemize{
\item \strong{Layer ordering:} if \code{layerOrder = NULL}, layers are ordered \strong{alphabetically}.
\item \strong{Vertex attributes:} when \code{nodesMetadata} is supplied, attributes from
metadata \strong{overwrite} existing graph vertex attributes of the same name
(default behavior in \code{build_multiNet()}).
\item \strong{No automatic simplification or actor normalization} by default.
}

\strong{Input expectations}
\itemize{
\item \code{graphsPerLayer} is a \strong{named list} where each element is an \code{igraph}.
If names are missing, synthetic names (\code{"layer1"}, \code{"layer2"}, …) are added.
\item Each graph should have vertex attribute \code{name} for actor IDs; if missing,
numeric IDs are assigned and coerced to character.
\item If an edge attribute \code{weight} is absent, it is added and set to \code{1}.
}

\strong{Persistence}
When \code{save_to_rds = TRUE}, the multilayer network is saved under
\code{results_dir} (default: \code{getOption("mlnet.results_dir","omicsDNA_results")})
with an auto‑stamped filename unless \code{rds_file} is supplied.
}
\examples{
\dontrun{
g1 <- igraph::graph_from_data_frame(
  data.frame(from=c("a","b"), to=c("b","c"), weight=c(0.8, 0.6)), directed = FALSE)
g2 <- igraph::graph_from_data_frame(
  data.frame(from=c("a","c"), to=c("c","d"), weight=c(0.7, 0.9)), directed = FALSE)

net <- build_multinet_from_graphs(
  graphsPerLayer = list(E1 = g1, E2 = g2),
  layerOrder     = NULL,            # alphabetical by default
  nodesMetadata  = NULL,
  save_to_rds    = FALSE
)
}

}
\seealso{
\code{\link{build_multiNet}} (edge tables or adjacencies);
\code{\link{consensusEdges}}, \code{\link{edgesFromAdjacency}}.
}
